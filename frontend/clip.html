<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clip Video â€” Video Downloader</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="container">
      <a href="dashboard.html" style="text-decoration: none; color: inherit;">
        <h2>Video Downloader</h2>
      </a>
      <button id="btn-logout" class="btn small">Logout</button>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
        <h3 id="video-title" style="margin-bottom: 0;">Loading...</h3>
        <button id="btn-show-marker" class="btn">Mark Clips</button>
      </div>
      
      <video id="video-player" controls style="width: 100%; border-radius: 8px; margin-top: 1rem; background-color: #000;"></video>
      
      <div id="progress-bar-container" class="progress-bar-container">
          <div id="progress-bar-fill" class="progress-bar-fill"></div>
      </div>

      <div id="marker-bar" class="marker-bar" style="display: none;">
        <div class="marker-left-panel">
          <div class="marker-controls">
            <button id="btn-mark-in-out" class="btn">Mark In</button>
            <div id="marker-feedback" class="marker-feedback"></div>
          </div>
          <h4>Marked Clips</h4>
          <ul id="marked-clips-list" class="list">
            <li class="muted">No clips marked yet.</li>
          </ul>
        </div>
        <div class="marker-right-panel">
            <div id="queue-spinner" class="spinner" style="display: none; margin: 0 auto;"></div>
            <button id="btn-queue-all" class="btn" disabled>Queue All Marked Clips</button>
        </div>
      </div>
    </section>

    <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 2rem;">
        <section class="card">
            <h3>Create a New Clip (Manual)</h3>
            <p class="muted">
                Use the player to find timestamps. Format: HH:MM:SS or MM:SS.
            </p>
            <div class="form-row">
                <input id="start-time" type="text" placeholder="Start (e.g., 01:23)" />
                <input id="end-time" type="text" placeholder="End (e.g., 01:45)" />
            </div>
             <button id="btn-create-clip" class="btn" style="margin-top: 1rem;">Queue Clip</button>
            <div id="clip-error" style="color: var(--danger-color); margin-top: 1rem; font-weight: 500;"></div>
        </section>

        <section class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
              <h3>Clip Queues</h3>
              <button id="btn-clear-queue" class="btn small btn-delete">Clear All</button>
            </div>
            <h4 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">Pending &amp; Processing</h4>
            <ul id="pending-list" class="list">
                <li class="muted">No pending clips.</li>
            </ul>
            <h4 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">Completed</h4>
            <ul id="completed-list" class="list">
                <li class="muted">No completed clips.</li>
            </ul>
        </section>
    </div>
  </main>

  <script src="clip.js"></script>
</body>
</html>